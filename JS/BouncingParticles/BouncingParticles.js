let canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),body=document.body||document.getElementsByTagName("body")[0];canvas.width=Math.max(body.clientWidth,window.innerWidth),canvas.height=Math.max(body.clientHeight,window.innerHeight),canvas.style.position="absolute",canvas.style.left="0px",canvas.style.top="0px",canvas.style["z-index"]=-9999,document.body.append(canvas),Math.TWO_PI=2*Math.PI,window.addEventListener("resize",function(){canvas.width=Math.max(body.clientWidth,window.innerWidth),canvas.height=Math.max(body.clientHeight,window.innerHeight),HTMLParticleSystem.getBouncyElements()});let HTMLParticleSystem={particles:[],bouncyElements:[],getBouncyElements:function(){this.bouncyElements=Array.prototype.map.call(document.getElementsByClassName("bouncy"),function(t){return t.getBoundingClientRect()})},new:function(t,e,i,s){this.particles.push(new HTMLParticle(t,e,i,s))},update:function(t=16.6){for(let e=0;e<this.particles.length;e++)this.particles[e].update(t)},render:function(){ctx.fillStyle="rgba(255, 255, 255, 0.1)",ctx.fillRect(0,0,canvas.width,canvas.height);for(let t=0;t<this.particles.length;t++)this.particles[t].render()}};HTMLParticleSystem.getBouncyElements();class HTMLParticle{constructor(t,e,i,s){this.x=t,this.y=e,this.xVel=(i||Math.round(Math.random())?-1:1)*Math.random()*6,this.yVel=2*Math.random(),this.size=10*Math.random()+5,this.weight=.01*this.size,this.colour=s||"rgb("+~~(256*Math.random())+", "+~~(256*Math.random())+", "+~~(256*Math.random())+")"}update(t){this.yVel+=this.weight*t/16.6,this.y+=this.yVel*t/16.6;let e=2*this.size,i,s;if(this.y>canvas.height)this.x=Math.random()*canvas.width,this.y=0,this.yVel=1;else{i=this.x-this.size,s=this.y-this.size;for(let n=0;n<HTMLParticleSystem.bouncyElements.length;n++){let l=HTMLParticleSystem.bouncyElements[n];if(i<l.x+l.width&&i+e>l.x&&s<l.y+l.height&&s+e>l.y){let h=Math.sign(this.yVel)||-1;for(;i<l.x+l.width&&i+e>l.x&&s<l.y+l.height&&s+e>l.y;)this.y-=h,s=this.y-this.size;this.yVel>0?this.yVel=-this.yVel/2:this.yVel=0}}}this.x+=this.xVel*t/16.6,i=this.x-this.size,s=this.y-this.size;for(let a=0;a<HTMLParticleSystem.bouncyElements.length;a++){let c=HTMLParticleSystem.bouncyElements[a];if(i<c.x+c.width&&i+e>c.x&&s<c.y+c.height&&s+e>c.y){let r=Math.sign(this.xVel)||1;for(;i<c.x+c.width&&i+e>c.x&&s<c.y+c.height&&s+e>c.y;)this.x-=r,i=this.x-this.size;this.xVel/=-2}}}render(){ctx.beginPath(),ctx.fillStyle=this.colour,ctx.arc(this.x,this.y,this.size,0,Math.TWO_PI),ctx.fill(),ctx.closePath()}}function initParticles(t){window.requestAnimationFrame(function(){for(let e=0;e<t;e++)HTMLParticleSystem.new(Math.random()*window.innerWidth,-50);HTMLParticleSystem.getBouncyElements();let i=0;return function t(e){HTMLParticleSystem.update(Math.min(e-i,100)),HTMLParticleSystem.render(),i=e,window.requestAnimationFrame(t)}}())}export{initParticles};
